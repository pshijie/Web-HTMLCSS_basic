<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1-回顾Object.defineProperty方法</title>
</head>

<body>

</body>
<script>
    let num = 18
    // 如果直接在类中写属性,该属性是可以被枚举/修改/删除
    let person = {
        name: 'psj',
        sex: '男'
        // age:18
    }
    // 往person实例中添加age属性
    Object.defineProperty(person, 'age', {
        // value: 18,
        // enumerable: true,  // 控制属性是否可以被枚举，默认值false
        // writable: true,  // 控制属性是否可以被修改，默认值false
        // configurable: true  // 控制属性是否可以被删除，默认值false

        // 每次读取person的age属性时,get函数就会被调用
        get() {
            return num
        },
        // 每次修改person的age属性时,set函数就会被调用,把num的值就修改了
        set(value) {
            num = value
        }
    })
    console.log(person);  // 会显示name、sex和age三个属性
    // 但是通过该方式添加的属性不可以枚举(enumerable:false的情况下)
    // 下面代码只显示@psj和@男
    for (let key in person) {
        console.log('@', person[key]);
    }
</script>

</html>